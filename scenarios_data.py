# scenarios_data.py

SCENARIOS = [
    {
        "id": "appendicitis_01",
        "name": "Острый аппендицит - Классический случай",
        "patient_initial_info_display": "Мужчина, 32 года. Жалобы при первом обращении: Острая боль в правой нижней части живота, тошнота, повышение температуры до 38°C.",
        "patient_llm_persona_system_prompt": "Ты — 32-летний мужчина, пациент с классическими симптомами острого аппендицита. Боль началась в эпигастрии, затем сместилась в правую подвздошную область. Была однократная рвота. Температура субфебрильная. Отвечай на вопросы врача, описывая свои ощущения и историю болезни. Говори простым языком, как обычный человек. Твоя задача - максимально реалистично симулировать ответы пациента.",
        "initial_patient_greeting": "Здравствуйте, доктор. Что-то живот сильно прихватило, сил нет...",
        "true_diagnosis_internal": "Острый аппендицит",
        "key_diagnostic_questions_keywords": [ # Ключевые слова, которые должны быть в вопросах врача
            "характер боли", "локализация боли", "иррадиация", "миграция боли", "когда началось", "рвота", "стул", "температура", "аппетит"
        ],
        "correct_diagnosis_keywords_for_check": ["аппендицит", "острый"], # Ключевые слова для проверки диагноза
        "correct_plan_keywords_for_check": [ # Ключевые слова для проверки плана
            "анализ крови", "оак", "анализ мочи", "оам", "узи", "консультация хирурга", "госпитализация", "аппендэктомия"
        ],
        "common_mistakes": [ # Описание ошибок и штрафы
            {"id": "mistake_app_01", "description": "Не уточнен характер и миграция боли.", "penalty": 1, "check_type": "missing_dialogue_keywords", "keywords": ["миграция", "сместилась", "характер"]},
            {"id": "mistake_app_02", "description": "Не спросил(а) про тошноту/рвоту.", "penalty": 1, "check_type": "missing_dialogue_keywords", "keywords": ["тошнит", "рвота", "рвало"]},
            {"id": "mistake_app_03", "description": "Не назначено УЗИ органов брюшной полости.", "penalty": 2, "check_type": "missing_plan_keywords", "keywords": ["узи", "ультразвуковое исследование"]},
            {"id": "mistake_app_04", "description": "Диагноз поставлен неверно или не полностью.", "penalty": 3, "check_type": "diagnosis_mismatch"},
            {"id": "mistake_app_05", "description": "Не рекомендована консультация хирурга или госпитализация при подозрении на острый живот.", "penalty": 2, "check_type": "missing_plan_keywords", "keywords": ["хирург", "госпитализация", "стационар"]},
        ]
    },
    {
        "id": "pneumonia_01",
        "name": "Внебольничная пневмония - Типичное течение",
        "patient_initial_info_display": "Женщина, 45 лет. Жалобы: сильный кашель с мокротой желто-зеленого цвета, слабость, температура 38.7°C, одышка при небольшой физической нагрузке.",
        "patient_llm_persona_system_prompt": "Ты — 45-летняя женщина. У тебя уже 4 дня кашель, сначала был сухой, а теперь с обильной желто-зеленой мокротой. Температура поднимается до 38.5-38.7°C, особенно к вечеру. Чувствуешь сильную слабость, потливость, и немного задыхаешься, даже когда просто ходишь по квартире. Отвечай на вопросы врача.",
        "initial_patient_greeting": "Доктор, здравствуйте. Замучил кашель, и дышать тяжеловато стало.",
        "true_diagnosis_internal": "Внебольничная пневмония",
        "key_diagnostic_questions_keywords": [
            "кашель", "мокрота", "цвет мокроты", "кровь в мокроте", "одышка", "боль в груди", "когда началось", "температура", "озноб", "слабость"
        ],
        "correct_diagnosis_keywords_for_check": ["пневмония", "воспаление легких"],
        "correct_plan_keywords_for_check": [
            "рентген", "общий анализ крови", "оак", "пульсоксиметрия", "антибиотик"
        ],
        "common_mistakes": [
            {"id": "mistake_pneu_01", "description": "Не уточнена характеристика мокроты (цвет, количество).", "penalty": 1, "check_type": "missing_dialogue_keywords", "keywords": ["мокрота", "цвет", "какая"]},
            {"id": "mistake_pneu_02", "description": "Не назначена рентгенография органов грудной клетки.", "penalty": 3, "check_type": "missing_plan_keywords", "keywords": ["рентген", "снимок легких", "флюорография"]},
            {"id": "mistake_pneu_03", "description": "Не назначен общий анализ крови.", "penalty": 1, "check_type": "missing_plan_keywords", "keywords": ["анализ крови", "оак"]},
            {"id": "mistake_pneu_04", "description": "Диагноз поставлен неверно (например, ОРВИ вместо пневмонии).", "penalty": 3, "check_type": "diagnosis_mismatch"},
            {"id": "mistake_pneu_05", "description": "Не назначен антибиотик при подтвержденной бактериальной пневмонии или явных признаках.", "penalty": 2, "check_type": "missing_plan_keywords", "keywords": ["антибиотик"]},
        ]
    },
    # Можно добавить больше сценариев здесь
]
MEDICAL_SPECIALIZATIONS = [
    "Общая терапия", "Гастроэнтерология", "Кардиология", "Пульмонология", 
    "Неврология", "Эндокринология", "Нефрология (Урология)", 
    "Инфекционные болезни", "Ревматология", "Педиатрия (общие случаи)" 
    # "Хирургия (неотложная/абдоминальная)" - можно добавить, если модель справляется
]

AGE_RANGES = {
    "Ребенок (1-12 лет)": (1, 12),
    "Подросток (13-17 лет)": (13, 17),
    "Молодой взрослый (18-40 лет)": (18, 40),
    "Средний возраст (41-60 лет)": (41, 60),
    "Пожилой (61+ лет)": (61, 90) # Верхний предел можно скорректировать
}